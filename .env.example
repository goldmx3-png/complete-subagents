# OpenRouter Configuration
OPENROUTER_API_KEY=  # Get from https://openrouter.ai/keys
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Models (all open-source via OpenRouter)
MAIN_MODEL=mistralai/magistral-small-2506  # Fast 7B model
ROUTER_MODEL=mistralai/magistral-small-2506  # Same model for routing

# Alternative models:
# MAIN_MODEL=meta-llama/llama-3.1-70b-instruct
# MAIN_MODEL=google/gemini-2.0-flash-exp:free  # Free tier!

# LLM Configuration
MAX_TOKENS=4096
TEMPERATURE=0.7
ROUTER_TEMPERATURE=0.3
USE_RULE_BASED=true  # Fast rule-based routing before LLM

# Vector Store
VECTOR_STORE=qdrant
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=  # Only for Qdrant Cloud
QDRANT_COLLECTION=documents

# Embeddings
EMBEDDING_MODEL=BAAI/bge-m3
EMBEDDING_DIMENSION=1024
EMBEDDING_DEVICE=cpu  # or cuda
EMBEDDING_BATCH_SIZE=32

# Upload Directory (can be shared across services)
UPLOAD_DIRECTORY=uploads  # or use absolute path like /path/to/shared/uploads

# Reranker (optional)
RERANKER_MODEL=BAAI/bge-reranker-v2-m3
RERANKER_DEVICE=cpu
USE_RERANKER=false

# Database
DATABASE_URL=postgresql://chatbot_user:changeme@localhost:5432/chatbot
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40

# Application Settings
MAX_CONTEXT_LENGTH=32768
MAX_CHUNKS_PER_QUERY=10
CONVERSATION_HISTORY_LIMIT=10
MAX_FILE_SIZE_MB=100
CHUNK_SIZE=1024
CHUNK_OVERLAP=100

# RAG Settings
MIN_SIMILARITY_SCORE=0.3
AMBIGUITY_THRESHOLD=0.15
TOP_K_RETRIEVAL=5
TOP_K_RERANK=10

# Query Enhancement
USE_QUERY_REWRITING=true
QUERY_REWRITE_CACHE_TTL=86400  # 24 hours

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
LOG_LEVEL=INFO
DEBUG_MODE=false

# Security
API_KEY_REQUIRED=false
ALLOWED_UPLOAD_EXTENSIONS=pdf,docx,txt
MAX_REQUESTS_PER_MINUTE=60

# Banking API Integration (optional)
BANKING_API_JWT_TOKEN=
BANKING_API_TIMEOUT=30
BANKING_API_MAX_RETRIES=3
BANKING_API_VERIFY_SSL=true
